--- ocaml
+++ rupro
@@ -1,274 +1,274 @@
 FoldedClass {
     name: "\\D0",
     pos: Pos(root|typing.multiple.extends.diamond.good.php, 5:12-14),
     kind: CenumClass(
         Concrete,
     ),
     enum_type: EnumType {
         base: mixed,
         constraint: None,
         includes: [],
     },
     ancestors: {
         "\\HH\\BuiltinEnumClass": HH\BuiltinEnumClass<HH\MemberOf<D0, mixed>>,
     },
     consts: {
         "A": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 6:8-9),
             ty: HH\MemberOf<D0, int>,
             origin: "\\D0",
             refs: [],
         },
         "B": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 7:11-12),
             ty: HH\MemberOf<D0, string>,
             origin: "\\D0",
             refs: [],
         },
         "class": ClassConst {
             is_synthesized: true,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 5:12-14),
             ty: HH\classname<this>,
             origin: "\\D0",
             refs: [],
         },
     },
     extends: {
         "\\HH\\BuiltinEnumClass",
     },
 }
 FoldedClass {
     name: "\\D1",
     pos: Pos(root|typing.multiple.extends.diamond.good.php, 10:12-14),
     kind: CenumClass(
         Concrete,
     ),
     enum_type: EnumType {
         base: mixed,
         constraint: None,
         includes: [
             D0,
         ],
     },
     substs: {
         "\\D0": SubstContext {
             subst: Subst(
                 {},
             ),
             class_context: "\\D1",
             from_req_extends: false,
         },
     },
     ancestors: {
         "\\D0": D0,
         "\\HH\\BuiltinEnumClass": HH\BuiltinEnumClass<HH\MemberOf<D1, mixed>>,
     },
     consts: {
         "A": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 6:8-9),
             ty: HH\MemberOf<D0, int>,
             origin: "\\D0",
             refs: [],
         },
         "B": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 7:11-12),
             ty: HH\MemberOf<D0, string>,
             origin: "\\D0",
             refs: [],
         },
         "C": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 11:8-9),
             ty: HH\MemberOf<D1, int>,
             origin: "\\D1",
             refs: [],
         },
         "class": ClassConst {
             is_synthesized: true,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 10:12-14),
             ty: HH\classname<this>,
             origin: "\\D1",
             refs: [],
         },
     },
     extends: {
         "\\D0",
         "\\HH\\BuiltinEnumClass",
     },
 }
 FoldedClass {
     name: "\\D2",
     pos: Pos(root|typing.multiple.extends.diamond.good.php, 14:12-14),
     kind: CenumClass(
         Concrete,
     ),
     enum_type: EnumType {
         base: mixed,
         constraint: None,
         includes: [
             D0,
         ],
     },
     substs: {
         "\\D0": SubstContext {
             subst: Subst(
                 {},
             ),
             class_context: "\\D2",
             from_req_extends: false,
         },
     },
     ancestors: {
         "\\D0": D0,
         "\\HH\\BuiltinEnumClass": HH\BuiltinEnumClass<HH\MemberOf<D2, mixed>>,
     },
     consts: {
         "A": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 6:8-9),
             ty: HH\MemberOf<D0, int>,
             origin: "\\D0",
             refs: [],
         },
         "B": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 7:11-12),
             ty: HH\MemberOf<D0, string>,
             origin: "\\D0",
             refs: [],
         },
         "D": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 15:11-12),
             ty: HH\MemberOf<D2, string>,
             origin: "\\D2",
             refs: [],
         },
         "class": ClassConst {
             is_synthesized: true,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 14:12-14),
             ty: HH\classname<this>,
             origin: "\\D2",
             refs: [],
         },
     },
     extends: {
         "\\D0",
         "\\HH\\BuiltinEnumClass",
     },
 }
 FoldedClass {
     name: "\\D3",
     pos: Pos(root|typing.multiple.extends.diamond.good.php, 18:12-14),
     kind: CenumClass(
         Concrete,
     ),
     enum_type: EnumType {
         base: mixed,
         constraint: None,
         includes: [
             D1,
             D2,
         ],
     },
     substs: {
         "\\D0": SubstContext {
             subst: Subst(
                 {},
             ),
-            class_context: "\\D1",
+            class_context: "\\D2",
             from_req_extends: false,
         },
         "\\D1": SubstContext {
             subst: Subst(
                 {},
             ),
             class_context: "\\D3",
             from_req_extends: false,
         },
         "\\D2": SubstContext {
             subst: Subst(
                 {},
             ),
             class_context: "\\D3",
             from_req_extends: false,
         },
     },
     ancestors: {
         "\\D0": D0,
         "\\D1": D1,
         "\\D2": D2,
         "\\HH\\BuiltinEnumClass": HH\BuiltinEnumClass<HH\MemberOf<D3, mixed>>,
     },
     consts: {
         "A": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 6:8-9),
             ty: HH\MemberOf<D0, int>,
             origin: "\\D0",
             refs: [],
         },
         "B": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 7:11-12),
             ty: HH\MemberOf<D0, string>,
             origin: "\\D0",
             refs: [],
         },
         "C": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 11:8-9),
             ty: HH\MemberOf<D1, int>,
             origin: "\\D1",
             refs: [],
         },
         "D": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 15:11-12),
             ty: HH\MemberOf<D2, string>,
             origin: "\\D2",
             refs: [],
         },
         "E": ClassConst {
             is_synthesized: false,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 19:8-9),
             ty: HH\MemberOf<D3, int>,
             origin: "\\D3",
             refs: [],
         },
         "class": ClassConst {
             is_synthesized: true,
             kind: CCConcrete,
             pos: Pos(root|typing.multiple.extends.diamond.good.php, 18:12-14),
             ty: HH\classname<this>,
             origin: "\\D3",
             refs: [],
         },
     },
     extends: {
         "\\D0",
         "\\D1",
         "\\D2",
         "\\HH\\BuiltinEnumClass",
     },
 }
